[gd_scene load_steps=9 format=4 uid="uid://bt05n3gdnwpvx"]

[ext_resource type="Script" uid="uid://b8akglawk7x0r" path="res://src/scenes/game/level_4.gd" id="1_x7blo"]
[ext_resource type="Texture2D" uid="uid://dvfbexyw2bclr" path="res://sprites/map/background_trees/layer1.png" id="2_qsmat"]
[ext_resource type="Texture2D" uid="uid://cd3w1ldrgux6g" path="res://sprites/map/background_trees/layer0.png" id="3_yk4f3"]
[ext_resource type="TileSet" uid="uid://c4tt75ef17hgf" path="res://sprites/map/map.tres" id="4_cp0rv"]
[ext_resource type="PackedScene" uid="uid://c4rayw7a8appj" path="res://sprites/note/note.tscn" id="5_rr1tt"]
[ext_resource type="Script" uid="uid://bv7wihm70a6fb" path="res://src/common/waypoint.gd" id="6_7ewpb"]
[ext_resource type="Script" uid="uid://sj0dokp5eenu" path="res://src/common/portal.gd" id="7_py6g0"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_x7blo"]
size = Vector2(20, 112.5)

[node name="Level4" type="Node2D"]
script = ExtResource("1_x7blo")

[node name="background" type="Parallax2D" parent="."]
scroll_scale = Vector2(0.2, 0.2)
scroll_offset = Vector2(0, 742.18)

[node name="layer1" type="Sprite2D" parent="background"]
position = Vector2(0, -619.95)
texture = ExtResource("2_qsmat")

[node name="foreground" type="Parallax2D" parent="."]
scroll_scale = Vector2(0.9, 0.9)
scroll_offset = Vector2(0, 118.57)

[node name="layer0" type="Sprite2D" parent="foreground"]
position = Vector2(0, -619.95)
texture = ExtResource("3_yk4f3")

[node name="Tiles" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AADi/wMAAAABAAAAAADj/wMAAAABAAAAAADk/wMAAAABAAAAAADl/wMAAAABAAAAAADm/wMAAAABAAAAAADn/wMAAAABAAAAAADo/wMAAAABAAAAAADp/wMAAAABAAAAAADq/wMAAAABAAAAAADr/wMAAAABAAAAAADs/wMAAAABAAAAAADt/wMAAAABAAAAAADu/wMAAAABAAAAAADv/wMAAAABAAAAAADw/wMAAAABAAAAAADx/wMAAAABAAAAAADy/wMAAAABAAAAAADz/wMAAAABAAAAAAD0/wMAAAABAAAAAAD1/wMAAAABAAAAAAD2/wMAAAABAAAAAAD3/wMAAAABAAAAAAD4/wMAAAABAAAAAAD5/wMAAAABAAAAAAD6/wMAAAABAAAAAAD7/wMAAAABAAAAAAD8/wMAAAABAAAAAAD9/wMAAAABAAAAAAD+/wMAAAABAAAAAAD//wMAAAABAAAAAAAAAAMAAAABAAAAAAABAAMAAAABAAAAAAACAAMAAAABAAAAAAADAAMAAAABAAAAAAAEAAMAAAABAAAAAAAFAAMAAAABAAAAAAAGAAMAAAABAAAAAAAHAAMAAAABAAAAAAAIAAMAAAABAAAAAAAJAAMAAAABAAAAAAAKAAMAAAABAAAAAAALAAMAAAABAAAAAAAMAAMAAAABAAAAAAANAAMAAAABAAAAAAAOAAMAAAABAAAAAAAPAAMAAAABAAAAAAAQAAMAAAABAAAAAAARAAMAAAABAAAAAAASAAMAAAABAAAAAAATAAMAAAABAAAAAAAUAAMAAAABAAAAAAAVAAMAAAABAAAAAAAWAAMAAAABAAAAAAAXAAMAAAABAAAAAAAYAAMAAAABAAAAAAAZAAMAAAABAAAAAAAaAAMAAAABAAAAAAAbAAMAAAABAAAAAAAcAAMAAAABAAAAAAAdAAMAAAABAAAAAAAeAAMAAAABAAAAAAAfAAMAAAABAAAAAAAgAAMAAAABAAAAAAAhAAMAAAABAAAAAAAiAAMAAAABAAAAAAAjAAMAAAABAAAAAAAkAAMAAAABAAAAAAAlAAMAAAABAAAAAAAmAAMAAAABAAAAAAAnAAMAAAABAAAAAAAoAAMAAAABAAAAAADe/+T/AAABAAAAAADf/+T/AAABAAAAAADg/+T/AAABAAAAAADh/+T/AAABAAAAAADi/+T/AAABAAAAAADj/+T/AAABAAAAAADk/+T/AAABAAAAAAA=")
tile_set = ExtResource("4_cp0rv")

[node name="Note-E" parent="." groups=["notes"] instance=ExtResource("5_rr1tt")]
position = Vector2(218, -451)
note = 4

[node name="Waypoints" type="Node" parent="."]

[node name="Spiky tunnel" type="Node2D" parent="Waypoints" groups=["waypoints"]]
position = Vector2(-976, -948)
script = ExtResource("6_7ewpb")
wp = 3

[node name="Roots walkway" type="Node2D" parent="Waypoints" groups=["waypoints"]]
position = Vector2(1145, 43)
script = ExtResource("6_7ewpb")
wp = 4

[node name="Portals" type="Node" parent="."]

[node name="Roots walkway" type="Area2D" parent="Portals" groups=["portals"]]
position = Vector2(1223, -180)
script = ExtResource("7_py6g0")
target = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Portals/Roots walkway"]
position = Vector2(-6, 217)
shape = SubResource("RectangleShape2D_x7blo")
